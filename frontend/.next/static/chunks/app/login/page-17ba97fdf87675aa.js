(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7269:function(e,t,n){Promise.resolve().then(n.bind(n,5207))},5207:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(7437),r=n(2265),o=n(6463),i=n(6264);function c(){(0,o.useRouter)();let[e,t]=(0,r.useState)(!1),[n,c]=(0,r.useState)("login"),[s,l]=(0,r.useState)(""),[u,f]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),y=async e=>{t(!0),p("");try{let t={X:{name:"Elon Musk",email:"elon@x.com"},Facebook:{name:"Mark Zuckerberg",email:"zuck@meta.com"},LinkedIn:{name:"Satya Nadella",email:"satya@microsoft.com"}}[e]||{name:"Guest User",email:"guest@example.com"},n=await (0,i.R5)(t.name,t.email,e);localStorage.setItem("loantwin_user",JSON.stringify(n)),window.location.href="/"}catch(e){p("Social login failed")}finally{t(!1)}},g=async e=>{e.preventDefault(),t(!0),p("");try{let e;e="login"===n?await (0,i.x4)(s,u):await (0,i.z2)(d,s,u),localStorage.setItem("loantwin_user",JSON.stringify(e)),window.location.href="/"}catch(e){p(e.message||"".concat("login"===n?"Login":"Registration"," failed"))}finally{t(!1)}};return(0,a.jsx)("div",{className:"flex-col items-center justify-center slide-up",style:{display:"flex",minHeight:"70vh"},children:(0,a.jsxs)("div",{className:"card",style:{width:450},children:[(0,a.jsxs)("div",{style:{textAlign:"center",marginBottom:24},children:[(0,a.jsx)("div",{style:{fontSize:48,marginBottom:16},children:"\uD83D\uDEE1️"}),(0,a.jsx)("h2",{className:"h1",children:"login"===n?"Enterprise Login":"Create Account"}),(0,a.jsx)("p",{className:"small mt-sm",children:"Access your secure Deal Operating System"})]}),h&&(0,a.jsx)("div",{className:"status error mb-md",children:(0,a.jsx)("span",{children:h})}),(0,a.jsxs)("form",{onSubmit:g,className:"flex-col gap-md",style:{display:"flex"},children:["register"===n&&(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"form-label",children:"Full Name"}),(0,a.jsx)("input",{className:"input",placeholder:"John Doe",value:d,onChange:e=>m(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"form-label",children:"Corporate Email"}),(0,a.jsx)("input",{className:"input",type:"email",placeholder:"name@company.com",value:s,onChange:e=>l(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"form-label",children:"Password"}),(0,a.jsx)("input",{className:"input",type:"password",placeholder:"••••••••",value:u,onChange:e=>f(e.target.value),required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"btn primary w-full",disabled:e,children:e?"Processing...":"login"===n?"Sign In":"Register"})]}),(0,a.jsx)("div",{className:"flex justify-center mt-md",children:(0,a.jsx)("button",{className:"small",style:{background:"none",border:"none",color:"var(--accent-primary)",cursor:"pointer"},onClick:()=>c("login"===n?"register":"login"),children:"login"===n?"Don't have an account? Register":"Already have an account? Sign In"})}),(0,a.jsx)("div",{className:"divider",style:{margin:"24px 0"}}),(0,a.jsxs)("div",{className:"flex-col gap-sm",style:{display:"flex"},children:[(0,a.jsx)("button",{className:"btn w-full",style:{background:"#000",color:"white",borderColor:"#333"},onClick:()=>y("X"),disabled:e,children:"Continue with X"}),(0,a.jsx)("button",{className:"btn w-full",style:{background:"#1877F2",color:"white",border:"none"},onClick:()=>y("Facebook"),disabled:e,children:"Continue with Facebook"}),(0,a.jsx)("button",{className:"btn w-full",style:{background:"#0077B5",color:"white",border:"none"},onClick:()=>y("LinkedIn"),disabled:e,children:"Continue with LinkedIn"})]}),(0,a.jsx)("p",{className:"small mt-lg",style:{textAlign:"center",opacity:.6},children:"Institutional SSO available for enterprise clients."})]})})}},6264:function(e,t,n){"use strict";n.d(t,{CM:function(){return p},DC:function(){return y},Jr:function(){return h},Qc:function(){return i},R5:function(){return c},RH:function(){return u},Rr:function(){return f},Rt:function(){return b},dp:function(){return d},tX:function(){return o},uF:function(){return g},x4:function(){return s},xc:function(){return m},z2:function(){return l}});let a=n(357).env.NEXT_PUBLIC_API_BASE||"http://127.0.0.1:8010";async function r(e){if(!e.ok)throw Error(await e.text()||e.statusText);return e.json()}async function o(e){return r(await fetch("".concat(a,"/api/loans"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})}))}async function i(){return r(await fetch("".concat(a,"/api/loans/sample"),{method:"POST"}))}async function c(e,t,n){return r(await fetch("".concat(a,"/api/auth/social-login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:e,email:t,social_provider:n})}))}async function s(e,t){return r(await fetch("".concat(a,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}))}async function l(e,t,n){return r(await fetch("".concat(a,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:e,email:t,password:n})}))}async function u(e,t){let n=new FormData;return n.append("file",t),r(await fetch("".concat(a,"/api/loans/").concat(e,"/documents"),{method:"POST",body:n}))}async function f(e){return r(await fetch("".concat(a,"/api/loans/").concat(e,"/documents")))}async function d(e,t){return r(await fetch("".concat(a,"/api/loans/").concat(e,"/process-document/").concat(t),{method:"POST"}))}async function m(e){return r(await fetch("".concat(a,"/api/loans/").concat(e,"/dlr")))}async function h(e,t){let n=t?"?query=".concat(encodeURIComponent(t)):"";return r(await fetch("".concat(a,"/api/loans/").concat(e,"/clauses").concat(n)))}async function p(e){return r(await fetch("".concat(a,"/api/loans/").concat(e,"/obligations")))}async function y(e){return r(await fetch("".concat(a,"/api/loans/").concat(e,"/trade-pack")))}function g(e){return"".concat(a,"/api/documents/").concat(e,"/file")}async function b(){try{return(await fetch("".concat(a,"/api/health"))).ok}catch(e){return!1}}},6463:function(e,t,n){"use strict";var a=n(1169);n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},357:function(e,t,n){"use strict";var a,r;e.exports=(null==(a=n.g.process)?void 0:a.env)&&"object"==typeof(null==(r=n.g.process)?void 0:r.env)?n.g.process:n(8081)},8081:function(e){!function(){var t={229:function(e){var t,n,a,r=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s=[],l=!1,u=-1;function f(){l&&a&&(l=!1,a.length?s=a.concat(s):u=-1,s.length&&d())}function d(){if(!l){var e=c(f);l=!0;for(var t=s.length;t;){for(a=s,s=[];++u<t;)a&&a[u].run();u=-1,t=s.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||l||c(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}},i=!0;try{t[e](o,o.exports,a),i=!1}finally{i&&delete n[e]}return o.exports}a.ab="//";var r=a(229);e.exports=r}()}},function(e){e.O(0,[971,23,744],function(){return e(e.s=7269)}),_N_E=e.O()}]);